(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},52683,e=>{"use strict";e.s(["default",()=>a]);var t=e.i(43476),s=e.i(71645),l=e.i(18566);function a(){let[e,a]=(0,s.useState)([]),[i,r]=(0,s.useState)(!1),[n,o]=(0,s.useState)(null),d=(0,l.useRouter)(),c=async e=>{e.preventDefault(),r(!0),o(null),a([]);let t=e.currentTarget.file;if(!t.files||0===t.files.length){o("Please select a file."),r(!1);return}let s=t.files[0],l=new FormData;l.append("file",s);try{let e=await fetch("/api/upload",{method:"POST",body:l}),t=await e.json();if(e.ok){a(t.questions);let e={questions:t.questions,answerKey:t.answerKey,totalQuestions:t.totalQuestions};console.log("Storing quiz data in localStorage:",e),localStorage.setItem("quizData",JSON.stringify(e)),console.log("Quiz data stored, redirecting to quiz page"),d.push("/quiz")}else o(t.error||"Failed to extract questions.")}catch(e){o("Failed to upload file.")}r(!1)};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-900 flex flex-col items-center justify-center p-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold mb-8 text-white",children:"MCQ Quiz Application"}),(0,t.jsxs)("div",{className:"bg-white border-2 border-gray-300 p-6 rounded-lg mb-8 max-w-2xl shadow-lg",children:[(0,t.jsx)("h3",{className:"font-bold text-gray-900 mb-3 text-lg",children:"File Format Requirements:"}),(0,t.jsxs)("ul",{className:"text-gray-800 space-y-2",children:[(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-blue-600 font-bold mr-2",children:"•"}),"Supports: PDF, TXT, DOC, DOCX files"]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-blue-600 font-bold mr-2",children:"•"}),'Questions should end with "?"']}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-blue-600 font-bold mr-2",children:"•"}),"Options should be formatted as A) Option 1, B) Option 2, etc."]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-blue-600 font-bold mr-2",children:"•"}),'Include an "Answer Key" section at the end']}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-blue-600 font-bold mr-2",children:"•"}),'Answer key format: "1. A" or "Q1: B" etc.']})]})]}),(0,t.jsxs)("form",{onSubmit:c,className:"mb-8 flex flex-col items-center gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("input",{type:"file",name:"file",accept:".pdf,.txt,.doc,.docx",className:"border-2 border-gray-400 bg-white p-3 rounded-lg text-gray-900 font-medium file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),(0,t.jsx)("p",{className:"text-sm text-gray-400 text-center",children:"Supported formats: PDF, TXT, DOC, DOCX"})]}),(0,t.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50",disabled:i,children:i?"Processing File...":"Upload File"})]}),n&&(0,t.jsx)("div",{className:"bg-red-100 border-2 border-red-400 text-red-800 p-4 rounded-lg mb-4 max-w-2xl text-center font-medium",children:n}),e.length>0&&(0,t.jsxs)("div",{className:"w-full max-w-2xl",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-white text-center",children:"Extracted MCQ Questions"}),(0,t.jsxs)("div",{className:"space-y-6",children:[e.slice(0,3).map((e,s)=>(0,t.jsxs)("div",{className:"bg-white border-2 border-gray-300 p-6 rounded-lg shadow-lg",children:[(0,t.jsxs)("p",{className:"font-bold text-gray-900 mb-4 text-lg",children:[e.questionNumber,". ",e.question]}),(0,t.jsx)("div",{className:"space-y-2",children:e.options.map((e,s)=>(0,t.jsxs)("p",{className:"text-gray-800 font-medium",children:[(0,t.jsxs)("span",{className:"font-bold text-blue-600",children:[String.fromCharCode(65+s),")"]})," ",e]},s))})]},s)),e.length>3&&(0,t.jsxs)("p",{className:"text-center text-gray-300 font-medium text-lg",children:["... and ",e.length-3," more questions"]})]})]})]})}}]);