(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,s)=>{t.exports=e.r(76562)},52683,e=>{"use strict";e.s(["default",()=>i],52683);var t=e.i(43476),s=e.i(71645),r=e.i(18566);let l=()=>{let e=[{question:"What is the capital of France?",options:["Paris","London","Berlin","Madrid"],answer:"Paris"},{question:"Which planet is known as the Red Planet?",options:["Earth","Mars","Jupiter","Venus"],answer:"Mars"},{question:'Who wrote "Hamlet"?',options:["Charles Dickens","William Shakespeare","Mark Twain","Jane Austen"],answer:"William Shakespeare"}],[r,l]=(0,s.useState)(0),[n,i]=(0,s.useState)([]),[a,o]=(0,s.useState)(!1);return(0,t.jsx)("div",{className:"max-w-2xl mx-auto p-6 bg-white shadow-md rounded-md",children:a?(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Quiz Results"}),(0,t.jsx)("ul",{className:"mb-4",children:e.map((e,s)=>(0,t.jsxs)("li",{className:"mb-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsxs)("strong",{children:["Q",s+1,":"]})," ",e.question]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Your Answer:"})," ",n[s]||"No answer"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Correct Answer:"})," ",e.answer]})]},s))}),(0,t.jsx)("button",{onClick:()=>{l(0),i([]),o(!1)},className:"py-2 px-4 bg-green-500 text-white rounded-md hover:bg-green-600",children:"Restart Quiz"})]}):(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["Question ",r+1," of ",e.length]}),(0,t.jsx)("p",{className:"mb-4",children:e[r].question}),(0,t.jsx)("div",{className:"space-y-2",children:e[r].options.map((s,a)=>(0,t.jsx)("button",{onClick:()=>(t=>{let s=[...n];s[r]=t,i(s),r<e.length-1?l(r+1):o(!0)})(s),className:"w-full py-2 px-4 bg-blue-500 text-white rounded-md hover:bg-blue-600",children:s},a))})]})})};async function n(e){let t=e.type,s=e.name.toLowerCase();if("application/pdf"===t||s.endsWith(".pdf"))throw Error("PDF files are not supported in the static version. Please convert your PDF to a text file (.txt) and upload that instead. You can copy and paste the content from your PDF into a .txt file.");if("text/plain"===t||s.endsWith(".txt"))return await e.text();if(s.endsWith(".doc")||s.endsWith(".docx"))return await e.text();throw Error("Unsupported file type. Please use TXT files for best results, or DOC/DOCX files.")}function i(){let[e,i]=(0,s.useState)([]),[a,o]=(0,s.useState)(!1),[d,c]=(0,s.useState)(null),u=(0,r.useRouter)(),m=async e=>{e.preventDefault(),o(!0),c(null),i([]);let t=e.currentTarget.file;if(!t.files||0===t.files.length){c("Please select a file."),o(!1);return}let s=t.files[0];try{console.log("Extracting text from file:",s.name);let e=await n(s);console.log("Parsing MCQ content...");let t=function(e){let t=e.replace(/\u0000/g,"").replace(/\u001a/g,"").replace(/\u0003/g,"").replace(/[\u0000-\u001F\u007F-\u009F]/g," ").trim();console.log("Original text length:",e.length),console.log("Cleaned text preview:",t.substring(0,500)+"...");let s=t.split(/\r?\n/).map(e=>e.trim()).filter(e=>e.length>0);1===s.length&&(console.log("Content is on single line, splitting intelligently..."),console.log("After smart splitting, lines:",(s=s[0].replace(/(\d+\.\s+)/g,"\n$1").replace(/([A-D]\)\s+)/g,"\n$1").replace(/(ANSWER\s+KEY)/gi,"\n$1").replace(/(REASONING)/gi,"\n$1").replace(/(GENERAL\s+KNOWLEDGE)/gi,"\n$1").replace(/(QUANTITATIVE\s+APTITUDE)/gi,"\n$1").replace(/(LOGICAL\s+REASONING)/gi,"\n$1").split("\n").map(e=>e.trim()).filter(e=>e.length>0)).length));let r=[],l={},n={},i=!1,a=[];for(let e=0;e<s.length;e++){let t=s[e].trim();if(!t)continue;if(/answer\s*key/i.test(t)){i=!0,n.question&&a.length>=4&&r.push({question:n.question,options:a.slice(0,4),questionNumber:n.questionNumber||r.length+1}),n={},a=[];continue}if(i){let e=t.match(/(?:Q?\s*)?(\d+)[\s\.\:\-]*([A-D])/i);if(e){let t=parseInt(e[1]),s=e[2].toUpperCase();l[t]||(l[t]=s)}continue}let o=t.match(/^(\d+)\.\s*(.+)/);if(o){n.question&&a.length>=4&&r.push({question:n.question,options:a.slice(0,4),questionNumber:n.questionNumber||r.length+1}),n={questionNumber:parseInt(o[1]),question:o[2].trim()},a=[];continue}let d=t.match(/^([A-D])\)\s*(.+)/i);if(d&&n.question){a.push(d[2].trim());continue}n.question&&!d&&0===a.length&&(n.question+=" "+t)}n.question&&a.length>=4&&r.push({question:n.question,options:a.slice(0,4),questionNumber:n.questionNumber||r.length+1});let o=r.filter(e=>4===e.options.length).slice(0,30),d=o.map((e,t)=>({...e,questionNumber:t+1})),c={};return o.forEach((e,t)=>{let s=e.questionNumber;l[s]&&(c[t+1]=l[s])}),console.log("Parsed questions:",d.length),console.log("Parsed answer key entries:",Object.keys(c).length),{questions:d,answerKey:c}}(e);if(0===t.questions.length)throw Error('No MCQ questions found. Please ensure your file contains questions ending with "?" followed by options A), B), C), D) and an answer key section.');i(t.questions);let r={questions:t.questions,answerKey:t.answerKey,totalQuestions:t.questions.length};console.log("Storing quiz data in localStorage:",r),localStorage.setItem("quizData",JSON.stringify(r)),console.log("Quiz data stored, redirecting to quiz page"),u.push("/quiz")}catch(e){console.error("Upload error:",e),c(e instanceof Error?e.message:"Failed to process the file. Please check the file format and try again.")}o(!1)};return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-blue-900 flex flex-col items-center justify-center p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-12",children:[(0,t.jsx)("h1",{className:"text-5xl md:text-6xl font-bold text-white mb-4",children:"ðŸ“ MCQ Quiz Application"}),(0,t.jsx)("p",{className:"text-blue-200 text-lg",children:"Transform your documents into interactive quizzes instantly!"})]}),(0,t.jsxs)("div",{className:"bg-white p-8 rounded-xl mb-8 max-w-3xl shadow-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-white text-sm font-bold",children:"ðŸ“‹"})}),(0,t.jsx)("h3",{className:"font-bold text-gray-900 text-xl",children:"File Format Requirements:"})]}),(0,t.jsxs)("ul",{className:"text-gray-700 space-y-3",children:[(0,t.jsxs)("li",{className:"flex items-start transform hover:translate-x-2 transition-transform duration-200",children:[(0,t.jsx)("span",{className:"text-green-500 font-bold mr-3 text-lg",children:"âœ“"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Supports:"})," TXT files (recommended), DOC, DOCX files"]})]}),(0,t.jsxs)("li",{className:"flex items-start transform hover:translate-x-2 transition-transform duration-200",children:[(0,t.jsx)("span",{className:"text-orange-500 font-bold mr-3 text-lg",children:"âš ï¸"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"PDF files:"})," Please convert to TXT format first"]})]}),(0,t.jsxs)("li",{className:"flex items-start transform hover:translate-x-2 transition-transform duration-200",children:[(0,t.jsx)("span",{className:"text-blue-500 font-bold mr-3 text-lg",children:"â“"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Questions"}),' should end with "?"']})]}),(0,t.jsxs)("li",{className:"flex items-start transform hover:translate-x-2 transition-transform duration-200",children:[(0,t.jsx)("span",{className:"text-purple-500 font-bold mr-3 text-lg",children:"ðŸ“"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Options"})," should be formatted as A) Option 1, B) Option 2, etc."]})]}),(0,t.jsxs)("li",{className:"flex items-start transform hover:translate-x-2 transition-transform duration-200",children:[(0,t.jsx)("span",{className:"text-indigo-500 font-bold mr-3 text-lg",children:"ðŸ”‘"}),(0,t.jsxs)("span",{children:["Include an ",(0,t.jsx)("strong",{children:'"Answer Key"'})," section at the end"]})]}),(0,t.jsxs)("li",{className:"flex items-start transform hover:translate-x-2 transition-transform duration-200",children:[(0,t.jsx)("span",{className:"text-pink-500 font-bold mr-3 text-lg",children:"ðŸ“Š"}),(0,t.jsxs)("span",{children:[(0,t.jsx)("strong",{children:"Answer key format:"}),' "1. A" or "Q1: B" etc.']})]})]})]}),(0,t.jsxs)("form",{onSubmit:m,className:"mb-8 flex flex-col items-center gap-6 relative z-10",children:[(0,t.jsx)("div",{className:"bg-white/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-white/30",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"file",name:"file",accept:".txt,.doc,.docx",className:"w-full border-2 border-dashed border-purple-300 bg-gradient-to-r from-blue-50 to-purple-50 p-6 rounded-xl text-gray-900 font-medium file:mr-4 file:py-3 file:px-6 file:rounded-lg file:border-0 file:text-sm file:font-bold file:bg-gradient-to-r file:from-blue-500 file:to-purple-500 file:text-white hover:file:from-blue-600 hover:file:to-purple-600 transition-all duration-300 cursor-pointer hover:border-purple-400"}),(0,t.jsx)("div",{className:"absolute -top-2 -right-2 w-6 h-6 bg-gradient-to-r from-yellow-400 to-orange-400 rounded-full animate-ping"})]}),(0,t.jsx)("p",{className:"text-sm text-gray-600 text-center font-medium",children:"ðŸŽ¯ Supported formats: TXT (recommended), DOC, DOCX"})]})}),(0,t.jsxs)("button",{type:"submit",className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white px-12 py-4 rounded-2xl text-xl font-bold hover:from-blue-700 hover:to-purple-700 transition-all duration-300 disabled:opacity-50 shadow-2xl transform hover:scale-105 disabled:hover:scale-100 relative overflow-hidden",disabled:a,children:[(0,t.jsx)("span",{className:"relative z-10",children:a?(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing File..."]}):(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{children:"ðŸš€"}),"Upload File",(0,t.jsx)("span",{children:"âœ¨"})]})}),!a&&(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-pink-500 to-yellow-500 opacity-0 hover:opacity-20 transition-opacity duration-300"})]})]}),d&&(0,t.jsxs)("div",{className:"bg-red-500/90 backdrop-blur-sm border-2 border-red-300 text-white p-6 rounded-2xl mb-4 max-w-2xl text-center font-medium shadow-2xl animate-shake relative z-10",children:[(0,t.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-2",children:[(0,t.jsx)("span",{className:"text-2xl",children:"âš ï¸"}),(0,t.jsx)("span",{className:"font-bold",children:"Error"})]}),d]}),e.length>0&&(0,t.jsxs)("div",{className:"w-full max-w-4xl relative z-10",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h2",{className:"text-4xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-blue-400 mb-2",children:"ðŸŽ‰ Quiz Ready!"}),(0,t.jsxs)("p",{className:"text-green-200 text-lg",children:["Found ",e.length," questions in your file"]})]}),(0,t.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.slice(0,3).map((e,s)=>(0,t.jsxs)("div",{className:"bg-white/95 backdrop-blur-sm border-2 border-white/30 p-6 rounded-2xl shadow-2xl transform hover:scale-105 transition-all duration-300 hover:shadow-3xl",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3 mb-4",children:[(0,t.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-green-500 to-blue-500 rounded-full flex items-center justify-center text-white font-bold text-sm",children:e.questionNumber}),(0,t.jsx)("p",{className:"font-bold text-gray-900 text-lg leading-tight",children:e.question})]}),(0,t.jsx)("div",{className:"space-y-2",children:e.options.map((e,s)=>(0,t.jsxs)("div",{className:"flex items-start gap-2 p-2 rounded-lg hover:bg-blue-50 transition-colors duration-200",children:[(0,t.jsx)("span",{className:"font-bold text-blue-600 bg-blue-100 w-6 h-6 rounded-full flex items-center justify-center text-sm",children:String.fromCharCode(65+s)}),(0,t.jsx)("span",{className:"text-gray-800 font-medium",children:e})]},s))})]},s))}),e.length>3&&(0,t.jsxs)("div",{className:"text-center mt-8 p-6 bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-2xl backdrop-blur-sm border border-white/20",children:[(0,t.jsxs)("p",{className:"text-white font-bold text-xl mb-2",children:["... and ",e.length-3," more questions await! ðŸŽ¯"]}),(0,t.jsx)("p",{className:"text-blue-200",children:'Click "Start Quiz" to begin your challenge!'})]})]}),(0,t.jsx)("main",{className:"flex min-h-screen flex-col items-center justify-center p-24",children:(0,t.jsx)(l,{})})]})}}]);